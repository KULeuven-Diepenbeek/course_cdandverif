<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>100 ALU :: Chip Design and Verification</title>

    
    <link href="../../css/nucleus.css?1692348126" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1692348126" rel="stylesheet">
    <link href="../../css/hybrid.css?1692348126" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1692348126" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1692348126" rel="stylesheet">
    <link href="../../css/auto-complete.css?1692348126" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1692348126" rel="stylesheet">
    <link href="../../css/theme.css?1692348126" rel="stylesheet">
    <link href="../../css/tabs.css?1692348126" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1692348126" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1692348126" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1692348126"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
<script src=../../js/exercises.js></script> 
  </head>
  <body class="" data-url="/100_wetfeet/100_alu/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1692348126"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1692348126"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/course_cdandverif\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1692348126"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/000_intro/" title="0 Introduction" class="dd-item
        
        
        
        ">
      <a href="../../000_intro/">
          0 Introduction
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/000_intro/000_introduction/" title="000 Introduction" class="dd-item ">
        <a href="../../000_intro/000_introduction/">
        000 Introduction
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/000_intro/001_organisation/" title="001 Organisation" class="dd-item ">
        <a href="../../000_intro/001_organisation/">
        001 Organisation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/000_intro/002_lab/" title="002 Lab" class="dd-item ">
        <a href="../../000_intro/002_lab/">
        002 Lab
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/100_wetfeet/" title="1 Getting your feet wet" class="dd-item
        parent
        
        
        ">
      <a href="../../100_wetfeet/">
          1 Getting your feet wet
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/100_wetfeet/100_alu/" title="100 ALU" class="dd-item active">
        <a href="../../100_wetfeet/100_alu/">
        100 ALU
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_wetfeet/101_testing/" title="101 Testing" class="dd-item ">
        <a href="../../100_wetfeet/101_testing/">
        101 Testing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_wetfeet/102_systemverilog/" title="102 SystemVerilog" class="dd-item ">
        <a href="../../100_wetfeet/102_systemverilog/">
        102 SystemVerilog
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_wetfeet/103_interfaces/" title="103 Interfaces" class="dd-item ">
        <a href="../../100_wetfeet/103_interfaces/">
        103 Interfaces
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_wetfeet/104_helloworld/" title="104 Hello world" class="dd-item ">
        <a href="../../100_wetfeet/104_helloworld/">
        104 Hello world
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/100_wetfeet/105_assignment/" title="105 Assignment 1" class="dd-item ">
        <a href="../../100_wetfeet/105_assignment/">
        105 Assignment 1
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/200_increase/" title="2 Adding some registers" class="dd-item
        
        
        
        ">
      <a href="../../200_increase/">
          2 Adding some registers
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/200_increase/201_registerfile/" title="201 Register file" class="dd-item ">
        <a href="../../200_increase/201_registerfile/">
        201 Register file
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/200_increase/202_test/" title="202 Updating test" class="dd-item ">
        <a href="../../200_increase/202_test/">
        202 Updating test
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/200_increase/203_practice/" title="203 Practice" class="dd-item ">
        <a href="../../200_increase/203_practice/">
        203 Practice
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/300_oo/" title="3 Climbing the OO ladder" class="dd-item
        
        
        
        ">
      <a href="../../300_oo/">
          3 Climbing the OO ladder
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/300_oo/301_layered_testbench/" title="301 Layered testbench" class="dd-item ">
        <a href="../../300_oo/301_layered_testbench/">
        301 Layered testbench
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/302_monitor/" title="302 Adding a monitor" class="dd-item ">
        <a href="../../300_oo/302_monitor/">
        302 Adding a monitor
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/303_joinorfail/" title="303 Join or fail" class="dd-item ">
        <a href="../../300_oo/303_joinorfail/">
        303 Join or fail
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/304_transactions/" title="304 Transactions" class="dd-item ">
        <a href="../../300_oo/304_transactions/">
        304 Transactions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/305_mailboxes/" title="305 Mailboxes" class="dd-item ">
        <a href="../../300_oo/305_mailboxes/">
        305 Mailboxes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/306_assignment/" title="306 Assignment 2" class="dd-item ">
        <a href="../../300_oo/306_assignment/">
        306 Assignment 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/307_scoreboard/" title="307 Checker &amp; scoreboard" class="dd-item ">
        <a href="../../300_oo/307_scoreboard/">
        307 Checker &amp; scoreboard
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/300_oo/308_golden/" title="308 Golden reference" class="dd-item ">
        <a href="../../300_oo/308_golden/">
        308 Golden reference
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/400_rand/" title="4 Randomisation" class="dd-item
        
        
        
        ">
      <a href="../../400_rand/">
          4 Randomisation
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/400_rand/401_randomisation/" title="401 Randomisation" class="dd-item ">
        <a href="../../400_rand/401_randomisation/">
        401 Randomisation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/400_rand/402_constraint/" title="402 Constraints" class="dd-item ">
        <a href="../../400_rand/402_constraint/">
        402 Constraints
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/400_rand/403_dpandcp/" title="403 DP and CP" class="dd-item ">
        <a href="../../400_rand/403_dpandcp/">
        403 DP and CP
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/400_rand/404_assignment/" title="404 Assignment 3" class="dd-item ">
        <a href="../../400_rand/404_assignment/">
        404 Assignment 3
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/500_coverage/" title="5 Coverage" class="dd-item
        
        
        
        ">
      <a href="../../500_coverage/">
          5 Coverage
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/500_coverage/501_coverage/" title="501 Coverage" class="dd-item ">
        <a href="../../500_coverage/501_coverage/">
        501 Coverage
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_coverage/502_funccoverage/" title="502 Functional coverage" class="dd-item ">
        <a href="../../500_coverage/502_funccoverage/">
        502 Functional coverage
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_coverage/503_crosscoverage/" title="503 Cross coverage" class="dd-item ">
        <a href="../../500_coverage/503_crosscoverage/">
        503 Cross coverage
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_coverage/504_morebins/" title="504 More on bins" class="dd-item ">
        <a href="../../500_coverage/504_morebins/">
        504 More on bins
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/500_coverage/505_assignment/" title="505 Assignment 4" class="dd-item ">
        <a href="../../500_coverage/505_assignment/">
        505 Assignment 4
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/600_assertions/" title="6 Assertions" class="dd-item
        
        
        
        ">
      <a href="../../600_assertions/">
          6 Assertions
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/600_assertions/601_assertions/" title="601 Assertions" class="dd-item ">
        <a href="../../600_assertions/601_assertions/">
        601 Assertions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/600_assertions/602_sequences/" title="602 Sequences" class="dd-item ">
        <a href="../../600_assertions/602_sequences/">
        602 Sequences
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/600_assertions/603_implications/" title="603 Implications" class="dd-item ">
        <a href="../../600_assertions/603_implications/">
        603 Implications
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/700_project/" title="7 Project" class="dd-item
        
        
        
        ">
      <a href="../../700_project/">
          7 Project
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/800_finalremarks/" title="8 Final remarks" class="dd-item
        
        
        
        ">
      <a href="../../800_finalremarks/">
          8 Final remarks
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/800_finalremarks/801_final/" title="801 Final remarks" class="dd-item ">
        <a href="../../800_finalremarks/801_final/">
        801 Final remarks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/appendices/" title="Appendices" class="dd-item
        
        
        
        ">
      <a href="../../appendices/">
          Appendices
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/appendices/cheat/" title="QuestaSim Commanline Cheats" class="dd-item ">
        <a href="../../appendices/cheat/">
        QuestaSim Commanline Cheats
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2023&amp;i=3467&amp;n=4&amp;t=04#anker46108"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://toledo.kuleuven.be/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Chip Design and Verification</a> > <a href='../../100_wetfeet/'>1 Getting your feet wet</a> > 100 ALU
          
        
          
        
          
        
                 
                  </span>
                </div>
                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
          <div id="chapter">
        
        <div id="body-inner">
          

        




<h1 id="the-alu">The ALU</h1>

<p>A number of exercises will use an arithmetic and logical unit (ALU). This component is described here. As you already know (at least by only looking at the name) it performs arithmetic operations and logical operations. The ALU that is used here, is based on the <em>GameBoy&rsquo;s custom take at the Z80</em>.</p>

<p>For this course two (or one) 8-bit operand(s) serve(s) as input and an 8-bit result is generated. Together with the operands, there is a 4-bit vector that contains flags.</p>

<ul>
<li><strong>Zero Flag (Z)</strong> (3): Set when the result of an arithmetic operation is zero; or if the comparison of two values matches.</li>
<li><strong>Subtract Flag (N)</strong> (2): Set if a subtraction was performed in the last arithmetic operation.</li>
<li><strong>Half Carry Flag (H)</strong> (1): Set if a carry occurred from lower to higher nibble in the last arithmetic operation</li>
<li><strong>Carry Flag (C)</strong> (0): Set if a carry occurred in the last arithmetic operation; or if the A-operand is smaller when executing a <em>compare</em>.</li>
</ul>

<p>Off course there is a 3-bit operation selection to select what the output should produce.</p>

<div class="multicolumn">
  <div class="column">
    <h4>Arithmetic operations</h4>
    <ul>
      <li>(000) Add</li>
      <li>(001) Add with carry</li>
      <li>(010) Subtract</li>
      <li>(011) Subtract with carry</li>
    </ul>
  </div>
  <div class="column">
    <h4>Logical operations</h4>
    <ul>
      <li>(100) Logical AND</li>
      <li>(101) Logical XOR</li>
      <li>(110) Logical OR</li>
      <li>(111) Compare</li>
    </ul>
  </div>
</div>

<p><img src="../../img/ALU.png" alt="Entity of the ALU" /></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vhdl" data-lang="vhdl"><span style="color:#75715e">--------------------------------------------------------------------------------</span>
<span style="color:#75715e">-- KU Leuven - ESAT/COSIC- Embedded Systems &amp; Security</span>
<span style="color:#75715e">--------------------------------------------------------------------------------</span>
<span style="color:#75715e">-- Module Name:     ALU - Behavioral</span>
<span style="color:#75715e">-- Project Name:    CD and Verif</span>
<span style="color:#75715e">-- Description:     The ALU that will be tested on</span>
<span style="color:#75715e">--</span>
<span style="color:#75715e">-- Revision     Date       Author     Comments</span>
<span style="color:#75715e">-- v0.1         20210311   VlJo       Initial version</span>
<span style="color:#75715e">--</span>
<span style="color:#75715e">--------------------------------------------------------------------------------</span>

<span style="color:#66d9ef">library</span> IEEE;
  <span style="color:#66d9ef">use</span> IEEE.STD_LOGIC_1164.<span style="color:#66d9ef">ALL</span>;

<span style="color:#66d9ef">entity</span> <span style="color:#a6e22e">ALU</span> <span style="color:#66d9ef">is</span>
  <span style="color:#66d9ef">port</span> (
    A <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">7</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    B <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">7</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    flags_in <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">3</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    Z <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">7</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    flags_out <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">3</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    operation<span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>)
  );
<span style="color:#66d9ef">end</span> <span style="color:#a6e22e">ALU</span>;

<span style="color:#66d9ef">architecture</span> <span style="color:#a6e22e">Behavioural</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">ALU</span> <span style="color:#66d9ef">is</span>

  <span style="color:#66d9ef">signal</span> A_i, B_i, B_ii, Z_i <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">7</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">signal</span> C_i <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC</span>;
  <span style="color:#66d9ef">signal</span> Zfl_i, Nfl_i, Hfl_i, Cfl_i <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC</span>;
  <span style="color:#66d9ef">signal</span> Zfl_o, Nfl_o, Hfl_o, Cfl_o <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC</span>;
  <span style="color:#66d9ef">signal</span> operation_i <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);

  <span style="color:#66d9ef">signal</span> sum, carry <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">7</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">signal</span> l_and, l_xor, l_or <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">7</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);

<span style="color:#66d9ef">begin</span>
  
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- (DE-)LOCALISING IN/OUTPUTS</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  A_i <span style="color:#f92672">&lt;=</span> A;
  B_i <span style="color:#f92672">&lt;=</span> B;
  Zfl_i <span style="color:#f92672">&lt;=</span> flags_in(<span style="color:#ae81ff">3</span>);
  Nfl_i <span style="color:#f92672">&lt;=</span> flags_in(<span style="color:#ae81ff">2</span>);
  Hfl_i <span style="color:#f92672">&lt;=</span> flags_in(<span style="color:#ae81ff">1</span>);
  Cfl_i <span style="color:#f92672">&lt;=</span> flags_in(<span style="color:#ae81ff">0</span>);
  operation_i <span style="color:#f92672">&lt;=</span> operation;

  Z <span style="color:#f92672">&lt;=</span> Z_i;

  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- OUTPUT SELECTION</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#a6e22e">PMUX</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">process</span>(operation_i, A_i, B_i, sum, Cfl_i, Zfl_o, Hfl_o, Cfl_o, l_and, l_xor, l_or)
  <span style="color:#66d9ef">begin</span>
    B_ii <span style="color:#f92672">&lt;=</span> B_i;
    <span style="color:#66d9ef">case</span> operation_i <span style="color:#66d9ef">is</span>
      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;001&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- ADC =&gt; N is always zero</span>
        Z_i <span style="color:#f92672">&lt;=</span> sum;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> Hfl_o <span style="color:#f92672">&amp;</span> Cfl_o;
        C_i <span style="color:#f92672">&lt;=</span> Cfl_i;
      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;010&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- SUB =&gt; N is always one</span>
        Z_i <span style="color:#f92672">&lt;=</span> sum;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">not</span>(Hfl_o) <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">not</span>(Cfl_o);
        B_ii <span style="color:#f92672">&lt;=</span> <span style="color:#66d9ef">not</span>(B_i);
        C_i <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;
      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;011&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- SBC =&gt; N is always one</span>
        Z_i <span style="color:#f92672">&lt;=</span> sum;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">not</span>(Hfl_o) <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">not</span>(Cfl_o);
        B_ii <span style="color:#f92672">&lt;=</span> <span style="color:#66d9ef">not</span>(B_i);
        C_i <span style="color:#f92672">&lt;=</span> <span style="color:#66d9ef">not</span>(Cfl_i);

      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;100&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- AND</span>
        Z_i <span style="color:#f92672">&lt;=</span> l_and;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span>;
      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;101&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- XOR</span>
        Z_i <span style="color:#f92672">&lt;=</span> l_xor;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span>;
        C_i <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;110&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- OR</span>
        Z_i <span style="color:#f92672">&lt;=</span> l_or;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span>;
        C_i <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
      <span style="color:#66d9ef">when</span> <span style="color:#e6db74">&#34;111&#34;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#75715e">-- CP</span>
        Z_i <span style="color:#f92672">&lt;=</span> A_i;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">not</span>(Hfl_o) <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">not</span>(Cfl_o);
        B_ii <span style="color:#f92672">&lt;=</span> <span style="color:#66d9ef">not</span>(B_i);
        C_i <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;

      <span style="color:#66d9ef">when</span> <span style="color:#66d9ef">others</span> <span style="color:#f92672">=&gt;</span> 
        Z_i <span style="color:#f92672">&lt;=</span> sum;
        flags_out <span style="color:#f92672">&lt;=</span> Zfl_o <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">&amp;</span> Hfl_o <span style="color:#f92672">&amp;</span> Cfl_o;
        B_ii <span style="color:#f92672">&lt;=</span> B_i;
        C_i <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
    <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">case</span>;
  <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">process</span>;
  
  
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- Arithmetic operations</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#a6e22e">RCA</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">to</span> <span style="color:#ae81ff">7</span> <span style="color:#66d9ef">generate</span>
    LSB<span style="color:#f92672">:</span> <span style="color:#66d9ef">if</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">generate</span>
      sum(i) <span style="color:#f92672">&lt;=</span> A_i(i) <span style="color:#66d9ef">xor</span> B_ii(i) <span style="color:#66d9ef">xor</span> C_i;
      carry(i) <span style="color:#f92672">&lt;=</span> (A_i(i) <span style="color:#66d9ef">and</span> B_ii(i)) <span style="color:#66d9ef">or</span> (C_i <span style="color:#66d9ef">and</span> (A_i(i) <span style="color:#66d9ef">xor</span> B_ii(i)));
    <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">generate</span> <span style="color:#a6e22e">LSB</span>;

    OTHER<span style="color:#f92672">:</span> <span style="color:#66d9ef">if</span> i<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">generate</span>
      sum(i) <span style="color:#f92672">&lt;=</span> A_i(i) <span style="color:#66d9ef">xor</span> B_ii(i) <span style="color:#66d9ef">xor</span> carry(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
      carry(i) <span style="color:#f92672">&lt;=</span> (A_i(i) <span style="color:#66d9ef">and</span> B_ii(i)) <span style="color:#66d9ef">or</span> (carry(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">and</span> (A_i(i) <span style="color:#66d9ef">xor</span> B_ii(i)));
    <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">generate</span> <span style="color:#a6e22e">OTHER</span>;
  <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">generate</span> <span style="color:#a6e22e">RCA</span>;


  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- Logical operations</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  l_and <span style="color:#f92672">&lt;=</span> A_i <span style="color:#66d9ef">and</span> B_ii;
  l_xor <span style="color:#f92672">&lt;=</span> A_i <span style="color:#66d9ef">xor</span> B_ii;
  l_or <span style="color:#f92672">&lt;=</span> A_i <span style="color:#66d9ef">or</span> B_ii;


  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- FLAG DETERMINATION</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  Zfl_o <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#66d9ef">when</span> Z_i <span style="color:#f92672">=</span> <span style="color:#ae81ff">x&#34;00&#34;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;0&#39;</span>;
  Nfl_o <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#66d9ef">when</span> sum(<span style="color:#ae81ff">7</span>) <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;0&#39;</span>;
  Hfl_o <span style="color:#f92672">&lt;=</span> carry(<span style="color:#ae81ff">3</span>);
  Cfl_o <span style="color:#f92672">&lt;=</span> carry(<span style="color:#ae81ff">7</span>);


<span style="color:#66d9ef">end</span> <span style="color:#a6e22e">Behavioural</span>;</code></pre></div>


<footer class="footline">
	
</footer>

        
            </div> 
        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../100_wetfeet/" title="1 Getting your feet wet"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../100_wetfeet/101_testing/" title="101 Testing" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1692348126"></script>
    <script src="../../js/perfect-scrollbar.min.js?1692348126"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1692348126"></script>
    <script src="../../js/jquery.sticky.js?1692348126"></script>
    <script src="../../js/featherlight.min.js?1692348126"></script>
    <script src="../../js/highlight.pack.js?1692348126"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1692348126"></script>
    <script src="../../js/learn.js?1692348126"></script>
    <script src="../../js/hugo-learn.js?1692348126"></script>
    
        
            <script src="../../mermaid/mermaid.js?1692348126"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

